(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,n,t){!function(){function n(e){return e[0]}var t={Lexer:void 0,ParserRules:[{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","wschar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}},{name:"__$ebnf$1",symbols:["wschar"]},{name:"__$ebnf$1",symbols:["__$ebnf$1","wschar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"__",symbols:["__$ebnf$1"],postprocess:function(e){return null}},{name:"wschar",symbols:[/[ \t\n\v\f]/],postprocess:n},{name:"unsigned_int$ebnf$1",symbols:[/[0-9]/]},{name:"unsigned_int$ebnf$1",symbols:["unsigned_int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"unsigned_int",symbols:["unsigned_int$ebnf$1"],postprocess:function(e){return parseInt(e[0].join(""))}},{name:"int$ebnf$1$subexpression$1",symbols:[{literal:"-"}]},{name:"int$ebnf$1$subexpression$1",symbols:[{literal:"+"}]},{name:"int$ebnf$1",symbols:["int$ebnf$1$subexpression$1"],postprocess:n},{name:"int$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"int$ebnf$2",symbols:[/[0-9]/]},{name:"int$ebnf$2",symbols:["int$ebnf$2",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1","int$ebnf$2"],postprocess:function(e){return e[0]?parseInt(e[0][0]+e[1].join("")):parseInt(e[1].join(""))}},{name:"unsigned_decimal$ebnf$1",symbols:[/[0-9]/]},{name:"unsigned_decimal$ebnf$1",symbols:["unsigned_decimal$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1",symbols:[/[0-9]/]},{name:"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1",symbols:["unsigned_decimal$ebnf$2$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"unsigned_decimal$ebnf$2$subexpression$1",symbols:[{literal:"."},"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1"]},{name:"unsigned_decimal$ebnf$2",symbols:["unsigned_decimal$ebnf$2$subexpression$1"],postprocess:n},{name:"unsigned_decimal$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"unsigned_decimal",symbols:["unsigned_decimal$ebnf$1","unsigned_decimal$ebnf$2"],postprocess:function(e){return parseFloat(e[0].join("")+(e[1]?"."+e[1][1].join(""):""))}},{name:"decimal$ebnf$1",symbols:[{literal:"-"}],postprocess:n},{name:"decimal$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"decimal$ebnf$2",symbols:[/[0-9]/]},{name:"decimal$ebnf$2",symbols:["decimal$ebnf$2",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decimal$ebnf$3$subexpression$1$ebnf$1",symbols:[/[0-9]/]},{name:"decimal$ebnf$3$subexpression$1$ebnf$1",symbols:["decimal$ebnf$3$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"decimal$ebnf$3$subexpression$1",symbols:[{literal:"."},"decimal$ebnf$3$subexpression$1$ebnf$1"]},{name:"decimal$ebnf$3",symbols:["decimal$ebnf$3$subexpression$1"],postprocess:n},{name:"decimal$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"decimal",symbols:["decimal$ebnf$1","decimal$ebnf$2","decimal$ebnf$3"],postprocess:function(e){return parseFloat((e[0]||"")+e[1].join("")+(e[2]?"."+e[2][1].join(""):""))}},{name:"percentage",symbols:["decimal",{literal:"%"}],postprocess:function(e){return e[0]/100}},{name:"jsonfloat$ebnf$1",symbols:[{literal:"-"}],postprocess:n},{name:"jsonfloat$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"jsonfloat$ebnf$2",symbols:[/[0-9]/]},{name:"jsonfloat$ebnf$2",symbols:["jsonfloat$ebnf$2",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"jsonfloat$ebnf$3$subexpression$1$ebnf$1",symbols:[/[0-9]/]},{name:"jsonfloat$ebnf$3$subexpression$1$ebnf$1",symbols:["jsonfloat$ebnf$3$subexpression$1$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"jsonfloat$ebnf$3$subexpression$1",symbols:[{literal:"."},"jsonfloat$ebnf$3$subexpression$1$ebnf$1"]},{name:"jsonfloat$ebnf$3",symbols:["jsonfloat$ebnf$3$subexpression$1"],postprocess:n},{name:"jsonfloat$ebnf$3",symbols:[],postprocess:function(e){return null}},{name:"jsonfloat$ebnf$4$subexpression$1$ebnf$1",symbols:[/[+-]/],postprocess:n},{name:"jsonfloat$ebnf$4$subexpression$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"jsonfloat$ebnf$4$subexpression$1$ebnf$2",symbols:[/[0-9]/]},{name:"jsonfloat$ebnf$4$subexpression$1$ebnf$2",symbols:["jsonfloat$ebnf$4$subexpression$1$ebnf$2",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"jsonfloat$ebnf$4$subexpression$1",symbols:[/[eE]/,"jsonfloat$ebnf$4$subexpression$1$ebnf$1","jsonfloat$ebnf$4$subexpression$1$ebnf$2"]},{name:"jsonfloat$ebnf$4",symbols:["jsonfloat$ebnf$4$subexpression$1"],postprocess:n},{name:"jsonfloat$ebnf$4",symbols:[],postprocess:function(e){return null}},{name:"jsonfloat",symbols:["jsonfloat$ebnf$1","jsonfloat$ebnf$2","jsonfloat$ebnf$3","jsonfloat$ebnf$4"],postprocess:function(e){return parseFloat((e[0]||"")+e[1].join("")+(e[2]?"."+e[2][1].join(""):"")+(e[3]?"e"+(e[3][1]||"+")+e[3][2].join(""):""))}},{name:"sum",symbols:["sum","_","sumOperator","_","product"],postprocess:function(e){return"".concat(e[2],"(").concat(e[0],", ").concat(e[4],")")}},{name:"sum",symbols:["product"],postprocess:n},{name:"product",symbols:["product","_","productOperator","_","power"],postprocess:function(e){return"".concat(e[2],"(").concat(e[0],", ").concat(e[4],")")}},{name:"product",symbols:["power"],postprocess:n},{name:"power",symbols:["parenthesis","_","powerOperator","_","power"],postprocess:function(e){return"cpow(".concat(e[0],", ").concat(e[4],")")}},{name:"power",symbols:["parenthesis"],postprocess:n},{name:"parenthesis",symbols:[{literal:"("},"_","sum","_",{literal:")"}],postprocess:function(e){return e[2]}},{name:"parenthesis",symbols:[{literal:"["},"_","sum","_",{literal:"]"}],postprocess:function(e){return e[2]}},{name:"parenthesis",symbols:["function"],postprocess:n},{name:"function",symbols:["literal"],postprocess:n},{name:"function",symbols:["literal","_",{literal:"!"}],postprocess:function(e){return"cfact(".concat(e[0],")")}},{name:"function",symbols:["unaryFunction","_","parenthesis"],postprocess:function(e){return"".concat(e[0],"(").concat(e[2],")")}},{name:"sumOperator",symbols:[{literal:"+"}],postprocess:function(){return"cadd"}},{name:"sumOperator",symbols:[{literal:"-"}],postprocess:function(){return"csub"}},{name:"productOperator",symbols:[{literal:"*"}],postprocess:function(){return"cmul"}},{name:"productOperator",symbols:[{literal:"/"}],postprocess:function(){return"cdiv"}},{name:"powerOperator$string$1",symbols:[{literal:"*"},{literal:"*"}],postprocess:function(e){return e.join("")}},{name:"powerOperator",symbols:["powerOperator$string$1"]},{name:"powerOperator",symbols:[{literal:"^"}]},{name:"unaryFunction",symbols:["namedFunction"],postprocess:function(e){return"c"+e[0]}},{name:"unaryFunction",symbols:[{literal:"-"}],postprocess:function(){return"cneg"}},{name:"namedFunction",symbols:["trigFunction"],postprocess:n},{name:"namedFunction$string$1",symbols:[{literal:"c"},{literal:"i"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$1"]},{name:"namedFunction$string$2",symbols:[{literal:"e"},{literal:"x"},{literal:"p"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$2"]},{name:"namedFunction$string$3",symbols:[{literal:"l"},{literal:"o"},{literal:"g"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$3"]},{name:"namedFunction$string$4",symbols:[{literal:"l"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$4"],postprocess:function(){return"log"}},{name:"namedFunction$string$5",symbols:[{literal:"s"},{literal:"q"},{literal:"r"},{literal:"t"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$5"]},{name:"namedFunction$string$6",symbols:[{literal:"g"},{literal:"a"},{literal:"m"},{literal:"m"},{literal:"a"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$6"]},{name:"namedFunction$string$7",symbols:[{literal:"e"},{literal:"t"},{literal:"a"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$7"]},{name:"namedFunction$string$8",symbols:[{literal:"z"},{literal:"e"},{literal:"t"},{literal:"a"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$8"]},{name:"namedFunction$string$9",symbols:[{literal:"a"},{literal:"b"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$9"]},{name:"namedFunction$string$10",symbols:[{literal:"c"},{literal:"o"},{literal:"n"},{literal:"j"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$10"]},{name:"namedFunction$string$11",symbols:[{literal:"c"},{literal:"i"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$11"]},{name:"namedFunction$string$12",symbols:[{literal:"r"},{literal:"e"},{literal:"a"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$12"]},{name:"namedFunction$string$13",symbols:[{literal:"i"},{literal:"m"},{literal:"a"},{literal:"g"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$13"]},{name:"namedFunction$string$14",symbols:[{literal:"r"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$14"],postprocess:function(){return"real"}},{name:"namedFunction$string$15",symbols:[{literal:"i"},{literal:"m"}],postprocess:function(e){return e.join("")}},{name:"namedFunction",symbols:["namedFunction$string$15"],postprocess:function(){return"imag"}},{name:"baseTrigFunction$string$1",symbols:[{literal:"s"},{literal:"i"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$1"]},{name:"baseTrigFunction$string$2",symbols:[{literal:"c"},{literal:"o"},{literal:"s"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$2"]},{name:"baseTrigFunction$string$3",symbols:[{literal:"t"},{literal:"a"},{literal:"n"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$3"]},{name:"baseTrigFunction$string$4",symbols:[{literal:"s"},{literal:"e"},{literal:"c"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$4"]},{name:"baseTrigFunction$string$5",symbols:[{literal:"c"},{literal:"s"},{literal:"c"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$5"]},{name:"baseTrigFunction$string$6",symbols:[{literal:"c"},{literal:"o"},{literal:"t"}],postprocess:function(e){return e.join("")}},{name:"baseTrigFunction",symbols:["baseTrigFunction$string$6"]},{name:"hyperbolicTrigFunction",symbols:["trigFunction",{literal:"h"}],postprocess:function(e){return e.join("")}},{name:"trigFunction$ebnf$1$string$1",symbols:[{literal:"a"},{literal:"r"},{literal:"c"}],postprocess:function(e){return e.join("")}},{name:"trigFunction$ebnf$1",symbols:["trigFunction$ebnf$1$string$1"],postprocess:n},{name:"trigFunction$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"trigFunction",symbols:["trigFunction$ebnf$1","baseTrigFunction"],postprocess:function(e){return e.join("")}},{name:"trigFunction$ebnf$2$string$1",symbols:[{literal:"a"},{literal:"r"}],postprocess:function(e){return e.join("")}},{name:"trigFunction$ebnf$2",symbols:["trigFunction$ebnf$2$string$1"],postprocess:n},{name:"trigFunction$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"trigFunction",symbols:["trigFunction$ebnf$2","hyperbolicTrigFunction"],postprocess:function(e){return e.join("")}},{name:"literal",symbols:["complexNumber"],postprocess:n},{name:"literal",symbols:["variable"],postprocess:n},{name:"variable$ebnf$1",symbols:[/[a-z]/]},{name:"variable$ebnf$1",symbols:["variable$ebnf$1",/[a-z]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"variable",symbols:["variable$ebnf$1"],postprocess:function(e){var n=e[0].join("");return["e","pi","tau","phi"].includes(n)?"C_"+n.toUpperCase():n}},{name:"complexNumber",symbols:["decimal"],postprocess:function(e){return"vec2(".concat(e[0],", 0)")}},{name:"complexNumber",symbols:["decimal",{literal:"i"}],postprocess:function(e){return"vec2(0, ".concat(e[0],")")}},{name:"complexNumber",symbols:[{literal:"i"}],postprocess:function(){return"vec2(0, 1)"}}],ParserStart:"sum"};"undefined"!==typeof e.exports?e.exports=t:window.grammar=t}()},238:function(e,n,t){e.exports=t(621)},447:function(e,n,t){},448:function(e,n,t){},465:function(e,n,t){},581:function(e,n,t){},582:function(e,n,t){},589:function(e,n,t){},599:function(e,n,t){},600:function(e,n,t){},601:function(e,n,t){},609:function(e,n,t){},610:function(e,n,t){},621:function(e,n,t){"use strict";t.r(n);t(239);var a=t(0),r=t.n(a),o=t(219),s=(t(447),t(18)),i=t(19),l=t(22),c=t(21),u=t(23),p=(t(448),t(236)),m=t.n(p),h=t(118),d=t.n(h),f=t(220),b=t.n(f),v=d()({palette:{primary:b.a}}),g=t(221),$=t.n(g),y=t(223),E=t.n(y),x=t(79),w=t.n(x),z=t(120),_=t.n(z),j=t(56),O=t.n(j),k=t(119),F=t.n(k),C=(t(465),function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(i.a)(n,[{key:"handleTextChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return r.a.createElement($.a,{id:"app-bar"},r.a.createElement(E.a,{disableGutters:!0},r.a.createElement(O.a,{onClick:this.props.onMenuButton},r.a.createElement(F.a,null)),r.a.createElement("div",{id:"function-input"},r.a.createElement(w.a,{id:"function-input",placeholder:"Enter a complex function of z",value:this.props.value,onChange:function(n){return e.handleTextChange(n)},error:this.props.error,autoFocus:!0,fullWidth:!0})),r.a.createElement("div",{id:"help-button"},r.a.createElement(_.a,{onClick:this.props.onHelpButton},"Help"))))}}]),n}(r.a.PureComponent)),S=t(39),T=t(164),N=t.n(T),P=t(224),M=t.n(P),L=N.a.Grammar.fromCompiled(M.a),A=["z","w"],I=function(){function e(n,t,a){Object(s.a)(this,e),void 0===a&&(a=1),this.name=n,this.body=t,this.num_args=a}return Object(i.a)(e,[{key:"apply",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return"".concat(this.name,"(").concat(n.join(", "),")")}},{key:"declaration",get:function(){var e=Array(this.num_args);return e.fill("vec2"),"vec2 ".concat(this.name,"(").concat(e.join(", "),");")}},{key:"code",get:function(){for(var e=[],n=0;n<this.num_args;n++)e.push("vec2 ".concat(A[n]));return"vec2 ".concat(this.name,"(").concat(e.join(", "),") {\n\t\t\t").concat(this.body,"\n\t\t}")}}]),e}(),D=new I("mul_i","return vec2(-z.y, z.x);"),U=new I("reciprocal","\n\tfloat magnitude = length(z);\n\treturn cconj(z) / (magnitude * magnitude);"),R=new I("cconj","return vec2(z.x, -z.y);"),q=new I("cabs","return vec2(length(z), 0);"),V=new I("carg","return vec2(atan(z.y, z.x), 0);"),W=new I("creal","return vec2(z.x, 0);"),B=new I("cimag","return vec2(z.y, 0);"),G=new I("ccis","return cexp(mul_i(z));"),H=new I("cexp","\n\tfloat magnitude = exp(z.x);\n\tfloat phase = z.y;\n\treturn vec2(magnitude*cos(phase), magnitude*sin(phase));\n\t"),Y=new I("clog","\n\tfloat magnitude = log(length(z));\n\tfloat phase = atan(z.y, z.x);\n\treturn vec2(magnitude, phase);\n\t"),K=new I("csqrt","\n\tfloat magnitude = length(z);\n\tfloat phase = atan(z.y, z.x) / 2.0;\n\treturn sqrt(magnitude) * vec2(cos(phase), sin(phase));\n\t"),X=new I("csquare","\n\tfloat magnitude = length(z);\n\tfloat phase = atan(z.y, z.x) * 2.0;\n\treturn (magnitude * magnitude) * vec2(cos(phase), sin(phase));\n\t"),J=new I("csin","\n\tvec2 iz = mul_i(z);\n\treturn -0.5 * mul_i(cexp(iz) - cexp(-iz));\n\t"),Z=new I("ccos","\n\tvec2 iz = mul_i(z);\n\treturn 0.5 * (cexp(iz) + cexp(-iz));\n\t"),Q=new I("ctan","return cdiv(csin(z), ccos(z));"),ee=new I("csec","return reciprocal(ccos(z));"),ne=new I("ccsc","return reciprocal(csin(z));"),te=new I("ccot","return cdiv(ccos(z), csin(z));"),ae=new I("carcsin","return -mul_i(clog(mul_i(z) + csqrt(ONE - csquare(z))));"),re=new I("carccos","return -mul_i(clog(z + csqrt(csquare(z) - ONE)));"),oe=new I("carctan","\n\tvec2 iz = mul_i(z);\n\treturn 0.5 * mul_i(clog(ONE - iz) - clog(ONE + iz));\n\t"),se=new I("carccot","return carctan(reciprocal(z));"),ie=new I("carcsec","return carccos(reciprocal(z));"),le=new I("carccsc","return carcsin(reciprocal(z));"),ce=new I("csinh","return 0.5 * (cexp(z) - cexp(-z));"),ue=new I("ccosh","return 0.5 * (cexp(z) + cexp(-z));"),pe=new I("ctanh","\n\tvec2 a = cexp(z);\n\tvec2 b = cexp(-z);\n\treturn cdiv(a - b, a + b);\n\t"),me=new I("csech","return reciprocal(ccosh(z));"),he=new I("ccsch","return reciprocal(csinh(z));"),de=new I("ccoth","\n\tvec2 a = cexp(z);\n\tvec2 b = cexp(-z);\n\treturn cdiv(a + b, a - b);\n\t"),fe=new I("carsinh","return clog(z + csqrt(csquare(z) + ONE));"),be=new I("carcosh","return clog(z + csqrt(csquare(z) - ONE));"),ve=new I("cartanh","return 0.5 * clog(cdiv(ONE + z, ONE - z));"),ge=new I("carsech","return clog(cdiv(ONE + csqrt(ONE - csquare(z)), z));"),$e=new I("carcsch","return clog(cdiv(ONE + csqrt(ONE + csquare(z)), z));"),ye=new I("carcoth","return 0.5 * clog(cdiv(z + ONE, z - ONE));"),Ee=new I("cneg","return -z;"),xe=new I("cadd","return z+w;",2),we=new I("csub","return z-w;",2),ze=new I("cmul","\n\treturn vec2(z.x*w.x-z.y*w.y, z.x*w.y+z.y*w.x);\n\t",2),_e=new I("cdiv","\n\tfloat magnitude = length(w);\n\treturn cmul(z, cconj(w)) / (magnitude*magnitude);\n\t",2),je=new I("cpow","return cexp(cmul(clog(z), w));",2),Oe=new I("cgamma","if (z.x < 0.5) {return cgamma_left(z);} else {return cgamma_right(z);}"),ke=new I("cgamma_left","return PI * reciprocal(cmul(csin(PI*z), cgamma_right(ONE-z)));"),Fe=new I("cgamma_right","\n\tvec2 w = z - ONE;\n\tvec2 t = w + vec2(7.5, 0);\n\tvec2 x = vec2(0.99999999999980993, 0);\n\tx += 676.5203681218851 * reciprocal(w + vec2(1, 0));\n\tx -= 1259.1392167224028 * reciprocal(w + vec2(2, 0));\n\tx += 771.32342877765313 * reciprocal(w + vec2(3, 0));\n\tx -= 176.61502916214059 * reciprocal(w + vec2(4, 0));\n\tx += 12.507343278686905 * reciprocal(w + vec2(5, 0));\n\tx -= .13857109526572012 * reciprocal(w + vec2(6, 0));\n\tx += 9.9843695780195716e-6 * reciprocal(w + vec2(7, 0));\n\tx += 1.5056327351493116e-7 * reciprocal(w + vec2(8, 0));\n\treturn sqrt(TAU) * cmul(cpow(t, w + vec2(0.5, 0)), cmul(cexp(-t), x));\n\t"),Ce=new I("cfact","return cgamma(z + ONE);"),Se=new I("ceta","if (z.x < 0.0) {return ceta_left(z);} else {return ceta_right(z);}"),Te={mul_i:D,reciprocal:U,cgamma_left:ke,cgamma_right:Fe,ceta_left:new I("ceta_left","\n\tz = -z;\n\n\tvec2 component_a = cmul(z, csin(z * PI/2.0));\n\tvec2 component_b = cmul(cgamma(z), ceta_right(z + ONE));\n\tvec2 multiplier_a = cexp(-log(PI) * (z + ONE));\n\tvec2 multiplier_b = cdiv(ONE - cexp(-LN2 * (z + ONE)), ONE - cexp(-LN2 * z));\n\n\tvec2 component = cmul(component_a, component_b);\n\tvec2 multiplier = cmul(multiplier_a, multiplier_b);\n\n\treturn 2.0 * cmul(component, multiplier);\n\t"),ceta_right:new I("ceta_right","\n\tvec2 result = vec2(1.000000000000000, 0.0);\n\tresult -= 1.00000000000000000000 * cexp(-0.69314718055994528623 * z);\n\tresult += 1.00000000000000000000 * cexp(-1.09861228866810978211 * z);\n\tresult -= 1.00000000000000000000 * cexp(-1.38629436111989057245 * z);\n\tresult += 0.99999999999999555911 * cexp(-1.60943791243410028180 * z);\n\tresult -= 0.99999999999979938270 * cexp(-1.79175946922805495731 * z);\n\tresult += 0.99999999999386091076 * cexp(-1.94591014905531323187 * z);\n\tresult -= 0.99999999986491050485 * cexp(-2.07944154167983574766 * z);\n\tresult += 0.99999999776946757457 * cexp(-2.19722457733621956422 * z);\n\tresult -= 0.99999997147371189055 * cexp(-2.30258509299404590109 * z);\n\tresult += 0.99999971045373836631 * cexp(-2.39789527279837066942 * z);\n\tresult -= 0.99999762229395061652 * cexp(-2.48490664978800035456 * z);\n\tresult += 0.99998395846577381452 * cexp(-2.56494935746153673861 * z);\n\tresult -= 0.99990996358087780305 * cexp(-2.63905732961525840707 * z);\n\tresult += 0.99957522481587246510 * cexp(-2.70805020110221006391 * z);\n\tresult -= 0.99830090896564482872 * cexp(-2.77258872223978114491 * z);\n\tresult += 0.99419535104495204703 * cexp(-2.83321334405621616526 * z);\n\tresult -= 0.98295446518722640050 * cexp(-2.89037175789616451738 * z);\n\tresult += 0.95672573151919981793 * cexp(-2.94443897916644026225 * z);\n\tresult -= 0.90449212250748245445 * cexp(-2.99573227355399085425 * z);\n\tresult += 0.81569498718756294764 * cexp(-3.04452243772342301398 * z);\n\tresult -= 0.68698555062628596790 * cexp(-3.09104245335831606667 * z);\n\tresult += 0.52834368695773525904 * cexp(-3.13549421592914967505 * z);\n\tresult -= 0.36280435095576935023 * cexp(-3.17805383034794575181 * z);\n\tresult += 0.21751716776255453079 * cexp(-3.21887582486820056360 * z);\n\tresult -= 0.11124997091266028426 * cexp(-3.25809653802148213586 * z);\n\tresult += 0.04729731398489586680 * cexp(-3.29583686600432912428 * z);\n\tresult -= 0.01619245778522847637 * cexp(-3.33220451017520380432 * z);\n\tresult += 0.00427566222821304867 * cexp(-3.36729582998647414271 * z);\n\tresult -= 0.00081524972526846008 * cexp(-3.40119738166215546116 * z);\n\tresult += 0.00009970680093076545 * cexp(-3.43398720448514627179 * z);\n\tresult -= 0.00000586510593565794 * cexp(-3.46573590279972654216 * z);\n\treturn result;\n\t"),square:X,real:W,re:W,imag:B,im:B,conj:R,abs:q,arg:V,cis:G,exp:H,log:Y,ln:Y,sqrt:K,"^":je,sin:J,cos:Z,tan:Q,sec:ee,csc:ne,cot:te,arcsin:ae,arccos:re,arctan:oe,arcsec:ie,arccsc:le,arccot:se,sinh:ce,cosh:ue,tanh:pe,sech:me,csch:he,coth:de,arsinh:fe,arcosh:be,artanh:ve,arsech:ge,arcsch:$e,arcoth:ye,$:Ee,"+":xe,"-":we,"*":ze,"/":_e,"!":Ce,gamma:Oe,eta:Se,zeta:new I("czeta","return cdiv(ceta(z), ONE - cexp(LN2 * (ONE - z)));")};var Ne=new Set(Object.values(Te).map(function(e){return e.declaration})),Pe=new Set(Object.values(Te).map(function(e){return e.code})),Me=Array.from(Ne).join("\n"),Le=Array.from(Pe).join("\n"),Ae="".concat(Me,"\n\n").concat(Le);function Ie(e,n,t){var a=e.createShader(n);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(console.log("Shader failed to compile: "+e.getShaderInfoLog(a)),e.deleteShader(a),null)}var De=function(e,n,t,a){var r=function(e,n,t,a,r){var o=(t/2).toFixed(2),s=(a/2).toFixed(2),i=window.devicePixelRatio.toFixed(4),l=r.map(function(e){return"uniform vec2 ".concat(e,";")}).join("\n"),c="",u=null;return n?(c=e,u="mapping(z)"):u=function(e){try{var n=new N.a.Parser(L);return n.feed(e),n.results[0]||null}catch(t){return console.error(t),null}}(e),null===u?null:(console.log("Shader Code:",u),"\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n  #else\n    precision mediump float;\n  #endif\n\n  const float PI = 3.14159265358979323846;\n  const float TAU = 2.0*PI;\n  const float LN2 = 0.69314718055994531;\n\n  const float checkerboard_scale = 0.25;\n\n  const vec2 ONE = vec2(1, 0);\n  const vec2 I = vec2(0, 1);\n  const vec2 C_PI = vec2(PI, 0);\n  const vec2 C_TAU = vec2(TAU, 0);\n  const vec2 C_E = vec2(2.718281845904523, 0);\n  const vec2 C_PHI = vec2(1.61803398, 0);\n\n  ".concat(l,"\n\n  ").concat(Ae,"\n\n  vec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n  }\n\n  vec3 get_color(vec2 z) {\n    float magnitude = length(z);\n    float phase = atan(z.y, z.x);\n\n    float color_value;\n    float color_saturation = 1.0;\n    if (continuous_gradient.x > 0.5) {\n      float color_lightness = 0.5 + atan(0.5 * log(magnitude))/PI;\n      color_saturation = 1.0;\n\n      if (invert_gradient.x > 0.5) {\n\tcolor_lightness = 1.0 - color_lightness;\n      }\n\n      /* HSL to HSV conversion */\n      color_lightness *= 2.0;\n      color_saturation *= 1.0 - abs(color_lightness - 1.0);\n      color_value = (color_lightness + color_saturation) / 2.0;\n      color_saturation /= color_value;\n    } else {\n      color_value = 0.5 * exp2(fract(log2(magnitude)));\n\n      if (invert_gradient.x > 0.5) {\n\tcolor_value = 1.5 - color_value;\n      }\n    }\n\n    if (enable_checkerboard.x > 0.5) {\n      vec2 checkerboard_components = floor(2.0 * fract(z/checkerboard_scale));\n      float checkerboard = floor(2.0 * fract((checkerboard_components.x + checkerboard_components.y)/2.0));\n      color_value *= 0.8 + 0.2 * checkerboard;\n    }\n\n    vec3 hsv_color = vec3(phase/TAU, color_saturation, color_value);\n    return hsv2rgb(hsv_color);\n  }\n\n  ").concat(c,"\n\n  void main() {\n    const vec2 screen_offset = vec2(").concat(o,", ").concat(s,");\n    vec2 plot_center = vec2(center_x.x, center_y.x);\n\n    float scale = exp(log_scale.x) * ").concat(i,";\n    if (antialiasing.x > 0.5) {scale *= 2.0;}\n\n    vec2 z = (gl_FragCoord.xy - screen_offset) / scale + plot_center;\n    vec2 w = ").concat(u,";\n\n    vec3 color = get_color(w);\n    gl_FragColor = vec4(color, 1.0);\n  }\n  "))}(n,t,e.drawingBufferWidth,e.drawingBufferHeight,a);if(null===r)return null;var o=Ie(e,e.VERTEX_SHADER,Ue),s=Ie(e,e.FRAGMENT_SHADER,r);if(null===o|null===s)return null;var i=e.createProgram();return e.attachShader(i,o),e.attachShader(i,s),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)?i:(console.log("Shader program failed to initialize: "+e.getProgramInfoLog(i)),null)},Ue="\n  attribute vec2 a_position;\n\n  void main() {\n    gl_Position = vec4(a_position, 0, 1);\n  }\n";function Re(e,n,t,a){var r=De(e,n,t,a);if(null===r)return console.log("Expression ".concat(n," could not be compiled!")),null;!function(e){var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW)}(e),e.useProgram(r);var o=e.getAttribLocation(r,"a_position");e.enableVertexAttribArray(o),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0);var s={},i=!0,l=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var m=u.value;s[m]=e.getUniformLocation(r,m)}}catch(h){l=!0,c=h}finally{try{i||null==p.return||p.return()}finally{if(l)throw c}}return s}t(581);var qe=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).gl=null,t.variables=t.props.variables,t.variableLocations={},t.initialized=!1,t.mouseDown=!1,t.canvasSize=[],t.position=null,t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.componentDidUpdate.bind(this)),this.initializeWebGL(),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){this.initializePlot(),this.updatePlot(),this.props.onError(!this.initialized)}},{key:"pixelToPlot",value:function(e,n){var t=Math.exp(this.variables.log_scale),a=this.variables.center_x,r=this.variables.center_y;return[(e-this.canvasSize[0]/2)/t+a,(this.canvasSize[1]/2-n)/t+r]}},{key:"plotToPixel",value:function(e,n){var t=Math.exp(this.variables.log_scale),a=this.variables.center_x,r=this.variables.center_y;return[t*(e-a)+this.canvasSize[0]/2,-t*(n-r)-this.canvasSize[1]/2]}},{key:"getPosition",value:function(e){var n=e.nativeEvent;if(void 0!==n.targetTouches){var t=n.targetTouches;if(1===t.length)return[t[0].pageX,t[0].pageY,1];var a=[t[0].pageX,t[0].pageY],r=a[0],o=a[1],s=[t[1].pageX,t[1].pageY],i=s[0],l=s[1];return[(r+i)/2,(o+l)/2,Math.log(Math.hypot(i-r,l-o))]}return[n.pageX,n.pageY,1]}},{key:"updatePosition",value:function(e){this.position=this.getPosition(e)}},{key:"handleZoom",value:function(e,n){var t=this.pixelToPlot(this.position[0],this.position[1]),a=Object(S.a)(t,2),r=a[0],o=a[1];this.variables.center_x=r,this.variables.center_y=o,void 0===n&&(n=e.deltaY>0?-.05:.05),this.variables.log_scale+=n;var s=this.pixelToPlot(this.position[0],this.position[1]),i=Object(S.a)(s,2),l=i[0]-r,c=i[1]-o;this.variables.center_x-=l,this.variables.center_y-=c,this.updatePlot()}},{key:"handleMouseDown",value:function(e){this.updatePosition(e),this.mouseDown=!0}},{key:"handleMouseUp",value:function(e){this.mouseDown=!1}},{key:"handleMouseMove",value:function(e){if(this.mouseDown){var n=this.getPosition(e),t=Object(S.a)(n,3),a=t[0],r=t[1],o=t[2],s=[a-this.position[0],r-this.position[1],o-this.position[2]],i=Math.exp(this.variables.log_scale);this.variables.center_x-=s[0]/i,this.variables.center_y+=s[1]/i,this.handleZoom(null,s[2]),this.updatePlot()}this.updatePosition(e)}},{key:"handleTouchStart",value:function(e){this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(e){this.handleMouseMove(e)}},{key:"handleTouchEnd",value:function(e){this.handleMouseUp(e)}},{key:"handleVariableUpdate",value:function(e){for(var n=0,t=Object.entries(e);n<t.length;n++){var a=Object(S.a)(t[n],2),r=a[0],o=a[1];this.variables[r]=o}this.updatePlot()}},{key:"initializeWebGL",value:function(){var e=this.refs.canvas;if(this.gl=e.getContext("webgl"),null===this.gl)return console.log("Unable to initialize WebGL."),null}},{key:"initializePlot",value:function(){var e=this.refs.canvas,n=window.devicePixelRatio;this.props.variables.antialiasing>.5&&(n*=2),e.width=e.offsetWidth*n,e.height=e.offsetHeight*n,this.canvasSize=[e.offsetWidth,e.offsetHeight],this.gl.viewport(0,0,e.width,e.height);var t=Re(this.gl,this.props.expression,this.variables.custom_function>.5,Object.keys(this.variables));this.initialized=null!==t,this.initialized&&(this.variableLocations=t)}},{key:"updatePlot",value:function(){for(var e={},n=0,t=Object.entries(this.variables);n<t.length;n++){var a=Object(S.a)(t[n],2),r=a[0],o=a[1];e[r]=[this.variableLocations[r],o]}!function(e,n){for(var t=0,a=Object.values(n);t<a.length;t++){var r=Object(S.a)(a[t],2),o=r[0],s=r[1];e.uniform2f(o,s,0)}e.drawArrays(e.TRIANGLES,0,6)}(this.gl,e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"function-plot"},r.a.createElement("div",{id:"fallback-text"},"Please enable WebGL to use the plotter."),r.a.createElement("canvas",{ref:"canvas",onMouseDown:function(n){return e.handleMouseDown(n)},onMouseMove:function(n){return e.handleMouseMove(n)},onMouseUp:function(n){return e.handleMouseUp(n)},onMouseEnter:function(n){return e.handleMouseMove(n)},onMouseLeave:function(n){return e.handleMouseUp(n)},onTouchStart:function(n){return e.handleTouchStart(n)},onTouchMove:function(n){return e.handleTouchMove(n)},onTouchEnd:function(n){return e.handleTouchEnd(n)},onWheel:function(n){return e.handleZoom(n)}}))}}]),n}(r.a.PureComponent),Ve=t(6),We=t.n(Ve),Be=t(225),Ge=t.n(Be),He=t(226),Ye=t.n(He),Ke=(t(582),function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).classes=e.classes,t.state={width:null},t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth.bind(this))}},{key:"updateWidth",value:function(){this.setState({width:window.innerWidth})}},{key:"render",value:function(){return this.state.width>this.props.transitionWidth?r.a.createElement(Ge.a,{anchor:this.props.anchor,open:this.props.open,variant:"persistent",classes:{paper:this.props.className}},r.a.createElement("div",{className:this.classes.toolbar}),r.a.createElement("div",{className:"drawer-content"},this.props.children)):r.a.createElement(Ye.a,{anchor:this.props.anchor,open:this.props.open,onOpen:this.props.onToggle,onClose:this.props.onToggle,classes:{paper:this.props.className},disableDiscovery:!0,disableSwipeToOpen:!0},r.a.createElement("div",{className:"drawer-content"},this.props.children))}}]),n}(r.a.PureComponent)),Xe=We()(function(e){return{toolbar:e.mixins.toolbar}})(Ke),Je=(t(589),t(92)),Ze=t.n(Je),Qe=t(122),en=t.n(Qe),nn=t(80),tn=t.n(nn),an=t(227),rn=t.n(an),on=t(51),sn=t.n(on),ln=t(121),cn=t.n(ln),un=t(81),pn=t.n(un),mn=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).classes=e.classes,t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(tn.a,null,r.a.createElement("div",{className:"variable-slider"},r.a.createElement(sn.a,{variant:"body2"},this.props.name+" = "+this.props.value.toFixed(3)),r.a.createElement(cn.a,{ref:"slider",classes:{root:this.classes.variableSlider},min:0,max:1,value:this.props.value,onChange:this.props.onChange})),r.a.createElement(rn.a,null,r.a.createElement(O.a,{onClick:this.props.onDelete},r.a.createElement(pn.a,null))))}}]),n}(r.a.PureComponent),hn=(We()(function(e){return{variableSlider:{paddingLeft:0,paddingRight:0}}})(mn),t(93)),dn=(new Set(["(",")","[","]","+","*","-","/","^","!"]),new Set(["sin","cos","tan","sec","csc","cot","arcsin","arccos","arctan","arcsec","arccsc","arccot","sinh","cosh","tanh","sech","csch","coth","arsinh","arcosh","artanh","arsech","arcsch","arcoth","exp","log","ln","sqrt","gamma","eta","zeta","abs","arg","conj","cis","real","imag","re","im"])),fn=new Set(["e","pi","tau","phi"]),bn=[];bn.push.apply(bn,Object(hn.a)(Object.keys(Te))),bn.push.apply(bn,Object(hn.a)(Object.values(Te).map(function(e){return e.name}))),bn.push.apply(bn,Object(hn.a)(dn)),bn.push.apply(bn,Object(hn.a)(fn)),bn.push("z","i"),bn.push("attribute","const","uniform","varying","layout","centroid","flat","smooth","noperspective","break","continue","do","for","while","switch","case","default","if","else","in","out","inout","float","int","void","bool","true","false","invariant","discard","return","lowp","mediump","highp","precision","struct","common","partition","active","asm","class","union","enum","typedef","template","this","packed","goto","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","superp","input","output","filter","sizeof","cast","namespace","using"),bn.push("radians","degrees","sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","asinh","acosh","atanh","pow","exp","log","exp2","log2","sqrt","inversesqrt","abs","sign","floor","trunc","round","ceil","fract","mod","modf","min","max","clamp","mix","step","smoothstep","isnan","isinf","length","distance","dot","cross","normalize","ftransform","faceforward","reflect","refract","transpose","inverse","equal","any","all","not","texture");var vn=new Set(bn),gn=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={value:"",errorMessage:""},t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"setValue",value:function(e){this.setState({value:e,errorMessage:""})}},{key:"handleKeyPress",value:function(e){13===e.keyCode&&this.handleClick()}},{key:"handleClick",value:function(){var e=this.state.value.toLowerCase();""===e?this.setState({errorMessage:"Must be nonempty"}):null===e.match(/^[a-z]+$/)?this.setState({errorMessage:"Letters only"}):vn.has(e)?this.setState({errorMessage:"Restricted keyword"}):(this.setValue(""),this.props.onClick(e))}},{key:"render",value:function(){var e=this;return r.a.createElement(tn.a,null,r.a.createElement(w.a,{placeholder:"Name",onChange:function(n){return e.setValue(n.target.value)},onKeyDown:function(n){return e.handleKeyPress(n)},error:""!==this.state.errorMessage,helperText:this.state.errorMessage,value:this.state.value}),r.a.createElement(_.a,{onClick:function(){return e.handleClick()}},"Add"))}}]),n}(r.a.PureComponent),$n=t(228),yn=t.n($n);var En={number:function(e){var n=Number(e);if(!Number.isNaN(n))return n},lower:function(e){return e.toLowerCase()}},xn=(t(599),function(e){function n(){var e;return Object(s.a)(this,n),(e=Object(l.a)(this,Object(c.a)(n).call(this))).state={focused:!1,text:""},e.element=r.a.createRef(),e}return Object(u.a)(n,e),Object(i.a)(n,[{key:"getParser",value:function(){return this.props.parser in En?En[this.props.parser]:this.props.parser}},{key:"parsedValue",value:function(){return this.getParser()(this.state.text)}},{key:"valid",value:function(){return void 0!==this.parsedValue()}},{key:"reset",value:function(){this.props.value.toString()!==this.state.text&&this.setState({text:this.props.value.toString()})}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",function(n){"Enter"===n.key&&e.state.focused&&e.element.current.blur()}.bind(this))}},{key:"handleFocus",value:function(e){this.setState({focused:!0}),this.reset()}},{key:"handleChange",value:function(e){this.setState({text:e.target.value.toString()})}},{key:"handleBlur",value:function(e){this.setState({focused:!1}),this.valid()&&this.props.onChange(this.parsedValue())}},{key:"componentDidUpdate",value:function(){this.state.focused||this.reset()}},{key:"render",value:function(){var e=["editable-value",this.props.name];this.state.focused&&(e.push("focus"),this.valid()||e.push("invalid"));var n=e.join(" ");null!==this.element.current&&this.element.current.setAttribute("class",n);var t=this.state.focused?this.state.text:this.props.value.toString();return this.props.disabled?r.a.createElement("span",{className:n},t):r.a.createElement(yn.a,{html:t,onFocus:this.handleFocus.bind(this),onChange:this.handleChange.bind(this),onBlur:this.handleBlur.bind(this),className:n,tagName:"span",innerRef:this.element})}}]),n}(a.PureComponent)),wn=(t(600),function(e){function n(){var e;return Object(s.a)(this,n),(e=Object(l.a)(this,Object(c.a)(n).call(this))).state={min:0,max:1},e}return Object(u.a)(n,e),Object(i.a)(n,[{key:"setMin",value:function(e){this.setState({min:e}),this.clampValue()}},{key:"setMax",value:function(e){this.setState({max:e}),this.clampValue()}},{key:"setValue",value:function(e){this.ensureConsistency(),this.props.onChange(e)}},{key:"clampValue",value:function(){var e=[this.state.min,this.state.max,this.props.value],n=e[0],t=e[1],a=e[2];a<n&&this.props.onChange(n),a>t&&this.props.onChange(t)}},{key:"ensureConsistency",value:function(){var e=[this.state.min,this.state.max,this.props.value],n=e[1],t=e[2];e[0]>t&&this.setState({min:t}),n<t&&this.setState({max:t})}},{key:"componentDidUpdate",value:function(){this.ensureConsistency()}},{key:"componentDidMount",value:function(){this.ensureConsistency()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"slider-base"},r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"info-row"},r.a.createElement(xn,{name:"name",value:this.props.name,parser:"lower",onChange:this.props.onNameChange,disabled:!0}),r.a.createElement("span",null,"="),r.a.createElement(xn,{name:"value",value:this.props.value,parser:"number",onChange:this.setValue.bind(this)})),r.a.createElement("div",{className:"main-row"},r.a.createElement(xn,{name:"lower-bound",value:this.state.min,parser:"number",onChange:this.setMin.bind(this)}),r.a.createElement(cn.a,{className:"main-slider",min:this.state.min,max:this.state.max,value:this.props.value,onChange:function(n,t){return e.setValue(t)}}),r.a.createElement(xn,{name:"upper-bound",value:this.state.max,parser:"number",onChange:this.setMax.bind(this)}))),r.a.createElement(O.a,{onClick:this.props.onDelete,className:"delete-icon"},r.a.createElement(pn.a,null)))}}]),n}(a.PureComponent)),zn=(t(601),new Set(["log_scale","center_x","center_y","enable_checkerboard","invert_gradient","continuous_gradient","antialiasing","custom_function"])),_n=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).sliders=e.variables,t.textField=r.a.createRef(),t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"handleChange",value:function(e,n){this.sliders[e]=n,this.props.onUpdate(this.sliders),this.forceUpdate()}},{key:"renderSliderList",value:function(){for(var e=this,n=[],t=function(){var t=Object(S.a)(o[a],2),s=t[0],i=t[1];if(zn.has(s))return"continue";n.push(r.a.createElement(wn,{key:s,name:s,value:i,onChange:function(n){return e.handleChange(s,n)},onDelete:function(){return e.props.onRemove(s)}}))},a=0,o=Object.entries(this.sliders);a<o.length;a++)t();return n}},{key:"render",value:function(){var e=this;return r.a.createElement(Ze.a,{id:"variable-list"},r.a.createElement(en.a,{disableSticky:!0},"Variables"),this.renderSliderList(),r.a.createElement(gn,{onClick:function(n){return e.props.onAdd(n,.5)}}))}}]),n}(r.a.Component),jn=t(230),On=t.n(jn),kn=t(229),Fn=t.n(kn),Cn=function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(tn.a,{button:!0,onClick:this.props.onClick},r.a.createElement(Fn.a,{checked:this.props.checked}),r.a.createElement(On.a,null,this.props.label))}}]),n}(r.a.PureComponent),Sn=function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(i.a)(n,[{key:"renderOptions",value:function(){for(var e=this,n=[],t=function(){var t=Object(S.a)(o[a],2),s=t[0],i=t[1];n.push(r.a.createElement(Cn,{key:s,onClick:function(){return e.props.onToggle(s)},checked:e.props.variables[s]>.5,label:i}))},a=0,o=Object.entries(this.props.options);a<o.length;a++)t();return n}},{key:"render",value:function(){return r.a.createElement(Ze.a,{id:"options-panel"},r.a.createElement(en.a,{disableSticky:!0},this.props.heading),this.renderOptions())}}]),n}(r.a.PureComponent),Tn=(t(609),function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(i.a)(n,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"function-editor"},r.a.createElement(sn.a,{variant:"caption"},"Please read the \u201cAdvanced Features\u201d documentation in the right pane before proceeding!"),r.a.createElement(w.a,{fullWidth:!0,multiline:!0,placeholder:"vec2 mapping(vec2 z)",error:this.props.errorMessage,onChange:function(n){return e.handleChange(n)},defaultValue:this.props.value}))}}]),n}(r.a.PureComponent)),Nn=t(237),Pn=t(231),Mn=t.n(Pn),Ln=t(232),An=t.n(Ln),In=t(233),Dn=t.n(In),Un=t(235),Rn=t.n(Un),qn=t(234),Vn=t.n(qn),Wn=(t(610),[{name:"Operators",entries:["+","-","*","/","^","!"]},{name:"Trigonometry",entries:["sin","cos","tan","sec","csc","cot","arcsin","arccos","arctan","arcsec","arccsc","arccot","sinh","cosh","tanh","sech","csch","coth","arsinh","arcosh","artanh","arsech","arcsch","arcoth"]},{name:"Exponential",entries:["exp","log","ln"]},{name:"Constants",entries:Array.from(fn)},{name:"Miscellaneous",entries:["sqrt","gamma","eta","zeta","abs","arg","conj","cis","real","imag"]}]),Bn=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).classes=e.classes,t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"renderChips",value:function(e){var n=this;return e.map(function(e){return r.a.createElement(Mn.a,{key:e,label:e,className:n.classes.chip})})}},{key:"renderSupportedFunctions",value:function(){for(var e=[],n=0,t=Wn;n<t.length;n++){var a=t[n];e.push(r.a.createElement("div",{key:a.name},r.a.createElement("h3",null,a.name),this.renderChips(a.entries)))}return e}},{key:"render",value:function(){return r.a.createElement("div",{id:"help-text"},r.a.createElement("h1",null,r.a.createElement("img",{src:"/android-chrome-192x192.png",className:"logo"}),r.a.createElement("div",{className:"text"},"Complex Function Plotter",r.a.createElement("div",{className:"subtitle"},"Made with ","<3"," by Samuel J. Li"))),r.a.createElement("h2",null,"Introduction"),r.a.createElement("p",null,"Creates interactive, domain-colored plots of complex functions."),r.a.createElement("p",null,"Each point on the complex plane is colored according to the value of the function at that point. Hue and brightness are used to display phase and magnitude, respectively."),r.a.createElement("p",null,"To increase the displayable range of values, brightness cycles from dark to light repeatedly with magnitude, jumping at every power of two. The \u201cedges\u201d of regions with different brightness correspond to curves along which the function has constant magnitude."),r.a.createElement("p",null,"This method allows for quick visualization of the locations and orders of any poles and zeros. For more information, see the ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Domain_coloring"},"Wikipedia article on domain coloring.")),r.a.createElement("h2",null,"Controls"),r.a.createElement("p",null,"To plot a complex function, enter its expression in the top bar. Parentheses (curved or square), complex number literals, and arbitrary variables (see \u201cVariables\u201d below) are supported. Input is case-insensitive."),r.a.createElement("p",null,"A red underline will appear if the expression cannot be plotted. You might have made a syntax error or forgot to declare a variable."),r.a.createElement("p",null,"Drag the plot to pan, and use the scroll wheel to zoom in and out."),r.a.createElement("h2",null,"Supported Functions"),r.a.createElement("div",{className:"help-indent"},this.renderSupportedFunctions()),r.a.createElement("h2",null,"Variables"),r.a.createElement("p",null,"Expressions can contain arbitrary user-defined variables."),r.a.createElement("p",null,"Click on the ",r.a.createElement(F.a,{style:{fontSize:20}})," icon in the upper-left corner to open the variables panel. Variables can be added with the ",r.a.createElement("span",{className:this.classes.buttonStyle},"Add")," button and removed with the ",r.a.createElement(pn.a,{style:{fontSize:20}})," button."),r.a.createElement("p",null,"Click on the variable\u2019s current value or the slider\u2019s upper & lower bounds to edit them."),r.a.createElement("p",null,"Any string of lowercase letters can be used as a variable name, except for reserved functions, the built-in variable ",r.a.createElement("i",null,"z"),", and the constant ",r.a.createElement("i",null,"i"),"."),r.a.createElement("h2",null,"Options"),r.a.createElement("p",null,"The following options can be found below the variables panel:"),r.a.createElement("div",{className:"help-indent"},r.a.createElement("h3",null,"Enable Checkerboard"),r.a.createElement("p",null,"Overlays a checkerboard with eight squares per unit length, colored according to the real and imaginary parts of the function\u2019s value."),r.a.createElement("h3",null,"Invert Gradient"),r.a.createElement("p",null,"Reverses the direction of the magnitude gradient. When the gradient is inverted, the apparent height of the \u201clayers\u201d formed correlate with the magnitude of the function."),r.a.createElement("h3",null,"Continuous Gradient"),r.a.createElement("p",null,"Use a continuous magnitude gradient rather than the \u201cstepped\u201d default. Reduces the range of visually discernible magnitudes, but removes shading artifacts in certain situations."),r.a.createElement("h3",null,"Enable Antialiasing"),r.a.createElement("p",null,"Enables antialiasing for higher-quality output. May degrade performance. Enabling this option is not recommended on mobile devices.")),r.a.createElement("h2",null,"Tips"),r.a.createElement("p",null,"To share a graph, just copy and paste the URL! The address automatically changes to reflect the plotted expression."),r.a.createElement("h2",null,"Advanced Features"),r.a.createElement(An.a,null,r.a.createElement(Dn.a,{expandIcon:r.a.createElement(Vn.a,null)},r.a.createElement(sn.a,{variant:"caption"},"Please read thoroughly iff you are using advanced options.")),r.a.createElement(Rn.a,null,r.a.createElement("div",null,r.a.createElement("h3",null,"Custom Functions"),r.a.createElement("p",null,"This option can be found under the \u201cAdvanced Options\u201d heading in the left pane. Overrides the main expression bar, allowing you to code your own function."),r.a.createElement("p",null,"Custom functions use the ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/OpenGL_Shading_Language"},"GLSL")," programming language. If you've never worked with GLSL before, it's extremely similar to C. Here are a few tips and caveats:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Complex numbers are represented by the ",r.a.createElement("tt",null,"vec2")," type, which represents a 2D vector. The real part can be accessed through ",r.a.createElement("tt",null,"z.x")," and the imaginary part by ",r.a.createElement("tt",null,"z.y"),"."),r.a.createElement("li",null,"Your custom function should be named ",r.a.createElement("tt",null,"mapping"),", and should take one input of type ",r.a.createElement("tt",null,"vec2")," and return an output of type ",r.a.createElement("tt",null,"vec2"),"."),r.a.createElement("li",null,"Complex number literals ",r.a.createElement("i",null,"a+bi")," should be entered as ",r.a.createElement("tt",null,"vec2(a, b)"),", even if they are real. GLSL doesn\u2019t support addition or subtraction between the \u201ccomplex\u201d ",r.a.createElement("tt",null,"vec2")," type and floats. Scalar multiplication should work fine with floats, however. For convenience, there are constants ",r.a.createElement("tt",null,"ONE")," and ",r.a.createElement("tt",null,"I")," available."),r.a.createElement("li",null,"Addition and subtraction operators (",r.a.createElement("tt",null,"+")," and ",r.a.createElement("tt",null,"-"),") work fine between ",r.a.createElement("tt",null,"vec2")," complex numbers. However, multiplication, division, and exponentiation operators act component-wise on the real and imaginary parts, which is probably not what you want. There are ",r.a.createElement("tt",null,"cmul"),", ",r.a.createElement("tt",null,"cdiv"),", and ",r.a.createElement("tt",null,"cpow")," functions available which will perform the proper complex operation."),r.a.createElement("li",null,"All supported functions are available, but with a ",r.a.createElement("tt",null,"c")," prefix. For example, the sin function is named ",r.a.createElement("tt",null,"csin"),". This is to avoid clashing with the built-in (real-valued) GLSL functions."),r.a.createElement("li",null,"Constants are available in uppercase with a ",r.a.createElement("tt",null,"C_")," prefix (e.g. ",r.a.createElement("tt",null,"C_PI"),"), and are already in complex ",r.a.createElement("tt",null,"vec2")," form.")),r.a.createElement("h3",null,"Limitations"),r.a.createElement("p",null,"There are currently a few limitations with the custom function feature which I hope to resolve soon:"),r.a.createElement("ul",null,r.a.createElement("li",null,"URL-based sharing doesn\u2019t currently work for custom functions. You may share the code directly instead."),r.a.createElement("li",null,"The editor will show a red underline if your code fails to compile, but currently does not show useful error information. For now, this information is visible in the developer console.")),r.a.createElement("h3",null,"Tips"),r.a.createElement("p",null,"Most desktop browsers will display a small resize handle at the bottom-right corner of the left pane. This can be very useful when working on complex code."),r.a.createElement("p",null,"You can define arbitrary helper functions before your ",r.a.createElement("tt",null,"mapping")," function \u2014 you have the full power of GLSL!"),r.a.createElement("p",null,r.a.createElement("b",null,"You can use all your declared variables")," directly in your code! They\u2019ve already been converted into complex ",r.a.createElement("tt",null,"vec2")," form."),r.a.createElement("h3",null,"Obligatory Warning"),r.a.createElement("p",null,"This is an advanced feature \u2014 you may break things! If anything freezes or crashes, a quick reload should resolve the issue (save your code first)!")))),r.a.createElement("h2",null,"Acknowledgements"),r.a.createElement("p",null,"Inspired by David Bau\u2019s ",r.a.createElement("a",{href:"http://davidbau.com/conformal"},"Conformal Map Plotter"),"."),r.a.createElement(sn.a,{variant:"caption"},"Complex Function Plotter \u2014 Made with love by Samuel J. Li"),r.a.createElement(sn.a,{variant:"caption"},"Found a bug? \u2014 bug.report@samuelj.li"))}}]),n}(r.a.PureComponent),Gn=We()(function(e){return{buttonStyle:Object(Nn.a)({},e.typography.button),chip:{margin:3}}})(Bn),Hn="vec2 mapping(vec2 z) {\n  vec2 c = z;\n  for (int i=0; i<32; i++) {\n    z = cmul(z, z) + c;\n  }\n  return z;\n}",Yn=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(c.a)(n).call(this,e))).state={expression:"z",expressionError:!1,customShader:Hn,shaderError:!1,menuOpen:!1,helpOpen:!1,variables:{log_scale:5,center_x:0,center_y:0,t:.3,enable_checkerboard:1,invert_gradient:0,continuous_gradient:0,antialiasing:0,custom_function:0}},t}return Object(u.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",this.handleHashChange.bind(this)),document.addEventListener("gesturestart",function(n){return e.preventDefault(n)},{passive:!1}),document.addEventListener("touchmove",function(n){return e.preventDefault(n)},{passive:!1}),this.handleHashChange()}},{key:"preventDefault",value:function(e){if("canvas"!==e.target.tagName.toLowerCase())return e;e.preventDefault()}},{key:"handleMenuButton",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"handleHelpButton",value:function(){this.setState({helpOpen:!this.state.helpOpen})}},{key:"handleVariableUpdate",value:function(e){this.state.variables=e,this.refs.plot.handleVariableUpdate(e)}},{key:"handleVariableAdd",value:function(e,n){var t=this.state.variables;t[e]=n,this.setState({variables:t})}},{key:"handleVariableRemove",value:function(e){var n=this.state.variables;delete n[e],this.setState({variables:n})}},{key:"handleOptionToggle",value:function(e){var n=this.state.variables;n[e]=n[e]<.5?1:0,this.setState({variables:n})}},{key:"setErrorMessage",value:function(e){this.state.variables.custom_function>.5?e!==this.state.shaderError&&this.setState({shaderError:e}):e!==this.state.expressionError&&this.setState({expressionError:e})}},{key:"handleHashChange",value:function(e){var n=window.location.hash;""!==n&&this.setExpression(decodeURIComponent(n.slice(1)))}},{key:"setExpression",value:function(e){e=e.toLowerCase(),window.history.replaceState(void 0,void 0,"#"+encodeURIComponent(e)),this.setState({expression:e})}},{key:"setCustomShader",value:function(e){this.setState({customShader:e})}},{key:"renderFunctionEditor",value:function(){var e=this;return this.state.variables.custom_function>.5?r.a.createElement(Tn,{onChange:function(n){return e.setCustomShader(n)},errorMessage:this.state.shaderError,value:this.state.customShader}):void 0}},{key:"render",value:function(){var e=this,n=this.state.variables.custom_function>.5?this.state.customShader:this.state.expression;return r.a.createElement(m.a,{theme:v},r.a.createElement("div",{id:"app"},r.a.createElement(C,{menuOpen:this.state.menuOpen,helpOpen:this.state.helpOpen,onMenuButton:function(){return e.handleMenuButton()},onHelpButton:function(){return e.handleHelpButton()},onChange:function(n){return e.setExpression(n)},value:this.state.expression,error:this.state.expressionError}),r.a.createElement(Xe,{className:"control-panel",open:this.state.menuOpen,onToggle:function(){return e.handleMenuButton()},anchor:"left",transitionWidth:480},r.a.createElement(_n,{variables:this.state.variables,onUpdate:function(n){return e.handleVariableUpdate(n)},onAdd:function(n,t){return e.handleVariableAdd(n,t)},onRemove:function(n){return e.handleVariableRemove(n)}}),r.a.createElement(Sn,{heading:"Graphics Options",options:{enable_checkerboard:"Enable Checkerboard",invert_gradient:"Invert Gradient",continuous_gradient:"Continuous Gradient",antialiasing:"Enable Antialiasing"},onToggle:function(n){return e.handleOptionToggle(n)},variables:this.state.variables}),r.a.createElement(Sn,{heading:"Advanced Options",options:{custom_function:"Custom Function"},onToggle:function(n){return e.handleOptionToggle(n)},variables:this.state.variables}),this.renderFunctionEditor()),r.a.createElement(qe,{ref:"plot",expression:n,variables:this.state.variables,onError:function(n){return e.setErrorMessage(n)}}),r.a.createElement(Xe,{className:"help-panel",open:this.state.helpOpen,anchor:"right",onToggle:function(){return e.handleHelpButton()},transitionWidth:900},r.a.createElement(Gn,null))))}}]),n}(r.a.Component),Kn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(o.render)(r.a.createElement(Yn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/complex-function-plotter",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/complex-function-plotter","/service-worker.js");Kn?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Xn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Xn(e)})}}()}},[[238,1,2]]]);
//# sourceMappingURL=main.77f62fb7.chunk.js.map